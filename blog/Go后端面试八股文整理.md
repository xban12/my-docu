---
tags: [求职]
---



***



***

参考资料：

- gh: data-structures-questions

- 极客时间：go 面试题（local doc）

## 计网

1. 浏览器输入一个 URL 后的过程

   > 今日八股分享（2）：浏览器键入一个URL的过程（后端版）
   > 当我们在浏览器中输入一个网址，大致会经历如下几个步骤：解析网址、连接管理、处理报文、处理请求、处理响应。下面我会从网址的解析开始，逐步串起整个过程。
   >
   > 浏览器首先会解析网址，获取到对应请求的IP地址和端口号，用于后续构建报文。由于IP地址太长不方便记忆，我们可能会使用域名来代替。如果使用域名，就需要根据域名解析出IP地址。解析域名的过程是：先挨次从浏览器缓存、本地缓存、本地DNS服务器缓存中查找IP地址，如果都找不到，就会向根DNS服务器发起请求，然后根据域名等级，挨级找到能够根据此域名映射出IP地址的权威DNS服务器，并将结果返回给本地DNS服务器，并进行缓存。获取到IP地址等信息后，就可以将请求委托给协议栈了。
   >
   > 如果发现请求的协议底层是基于TCP的（例如HTTP协议），为了能够确保自己和目标能够进行通信，协议栈首先会用解析出来的信息，去检查与目标端口是否有已建立的可复用的TCP连接。如果没有，则会先通过三次握手，为双方建立好TCP连接。如果是基于UDP的，则不需要对连接进行管理。当确认双方能够通信的时候，就可以开始处理报文了。
   >
   > 基于已有的IP地址、端口号、请求数据、TCP通信等信息，先构建出HTTP Message，其中主要包含请求行、请求头和请求体（如果有）三部分。为了防止数据丢失重传时数据过大，HTTP Message 在进入传输层时，可能会被拆分成很多个数据段。进入传输层后，会为报文添加上TCP头部信息。除了包含源端口和目标端口外，还有用于流量控制、拥塞控制、重传机制相关的字段。然后将报文传递给网络层，主要需要添加上源IP地址和目标IP地址等信息变成数据包。然后将数据包传递给网络接口层，通过IP寻找到下一站MAC地址，将数据封装成以太网帧后传递给网卡。网卡将这一系列帧的比特流转换成信号，并通过路由器交换机等设备，将信号逐步传递到目标计算机的网卡中。
   >
   > 信号到达目标计算机后，又会通过校验、拆解、组装报文等一系列的操作，最终服务器会在应用层接收到来自客户端应用层发送的HTTP Message。再通过解析报文信息，处理客户端请求等一系列操作，并得到响应报文。再将这一段响应的HTTP Message经过一系列包装、传输、拆包等操作，从服务器的应用层发送到客户端的应用层。客户端再根据响应的HTTP Message做出下一步操作。
   >
   > 这就是在客户端浏览器键入一个URL的整个过程。为了说清楚整个过程，我省略了许多应用层、传输层的细节。其中还有很多知识值得深入学习。
