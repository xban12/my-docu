---
tags: [操作系统]
---





本书需要了解程序是怎么运行的计算机组成原理先修知识

冯诺依曼机，取指令、解码、执行

操作系统就是为了使得这样一些过程简单易用

被认为是虚拟机器，物理机的第一层抽象，VM是理解OS的重要思想

**操作系统要解决的第一个重要问题：如何去虚拟化资源**





## CPU的虚拟化

- 通过例程我们可以看到，在单 CPU 环境下，几个程序居然可以并行，操作系统就是来实现这件事情的
- 其机制也和操作系统的管理政策有关，操作系统的角色也是一个资源管理器



## 内存的虚拟化

- 每个进程会有一个独立的 PID
- 在同时运行多个这样的访问内存和进程的程序的时候，会发现他们居然是独立运行的，这说明**每个进程都有一个私有的、独立的地址空间**，这也是交由操作系统管理的 



## 并行性

- 并行 Concurrency 姑且可以理解为一些问题，我们需要在同一个程序中一次性解决
- **第二个关键问题”如何正确构建并发程序“**
- 一个用开两个线程来运行计数器的程序，最后结果并不是正常相加，这是因为每个线程并不是原子性运行的



## 持久性

- 内存是易失地，我们要考虑一些方法IO到硬盘里

- **第三个关键问题“数据地持久性存储”**
- 考虑写一个c程序然后编译运行的过程
- 在创建和写入保存的过程中，进行了三次系统调用
- 系统调用指向操作系统的文件系统部分
- 文件系统具体做的事情
  - 首先理解文件存储的位置
  - 然后追踪文件系统维护的结构
  - 这是写相应操作系统适配的驱动的人才知道的事情，很复杂
  - 但是操作系统也封装成了标准库让我们去调用
- 操作系统也提供了很多写入代理（复制粘贴）和数据结构（B-tree）供我们使用，来简化以及避免一些错误





 ## 设计目标

- 向上封装与抽象。
- 高性能，降低支出。并不总是能做到的，有的时候需要适当忍受
- 应用间和应用和操作系统间的保护。进程的独立性是关键。
- 可靠性。让应用程序不间断运行
- 节省能源、安全性、可移植性。





## 历史

- 只有库
- 保护
- 多程序
- 现代
